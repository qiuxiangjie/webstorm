<!DOCTYPE html>
<html lang="en">
<head>
    <span id="preserve6fef77db90a5425d88295afbd10cd6b0" class="wlWriterPreserve">
        </span>
    <script src="./js/jQuery1.9.0.js"></script>
    <!-----------------------------Դ��뿪ʼ-------------------------------->
<body>

<div id='p1' style="width: 500px;height: 500px;background: #ccc">p1
    <div id='p2' style="width: 300px;height: 300px;background: #a9ea00">p2
        <p id="p3" style="width: 100px;height: 100px;background: red" >p3
            <a id="p4" style="width: 50px;height: 50px;background: cornflowerblue" >p4</a>
            <button id="btn">按钮</button>
        </p>
    </div>
</div>



<span id="preserveb9ecaab22cdb41c6a7304037eafcee32" class="wlWriterPreserve"><script type="text/javascript">

    var p1 = $('#p1');
    p1.on('click',function(){
        console.log('p1')
    });

    var p2 = $('#p2');
    p2.on('click','a,p',function(e){
        console.log(e.currentTarget.nodeName)
    });

    p2.on('click',function(e){
        console.log('Ĭ¼�1');
    });

    var p3 = $('#p3');
    p3.on('click',function(){
        //console.log('��');
        //return false;
        //event.preventDefault();
        //e.stopPropagation();
       // e.preventDefault();
        //event.stopPropagation();
    })

</script></span>
<!-----------------------------Խ-------------------------------------->

<script>
    function fetchData(){
        return new Promise((resolve, reject) =>{
            resolve({
                someCondition: true
            })
            setTimeout(() => {
               
                resolve({
                    someCondition: false
                })
            }, 0)
        })
    }
    let button = document.getElementById('btn')
    button.addEventListener('click', async function (event) {
            // event.preventDefault(); // 阻止默认行为
            // event.stopPropagation(); // 阻止事件冒泡

            try {
                // 异步获取数据
                const data = await fetchData();
                console.log(3)

                // 判断数据是否满足条件，如果满足条件则不阻止冒泡，否则阻止冒泡
                if (data.someCondition) {
                    // 条件满足，不阻止冒泡
                } else {
                    // 条件不满足，阻止冒泡
                    event.stopPropagation();
                }
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        });
</script>
</body>
</html>
