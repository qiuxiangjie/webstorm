define(function(b,a,c){b("common");function e(){$("#js-video-close").click(function(){$("#js-index-video").hide().find("[id^='js-ideo']").empty().attr("id","js-video")});return function(){$("#js-index-video").fadeIn();b.async("player",function(h){h.init(800,500,"http://video.mukewang.com/mk.mp4","js-video")})}}$("#js-play-video").on("click",e());$("#js-header-login").click(function(){b.async("login_sns",function(h){h.init()})});$("#js-header-register").click(function(){b.async("login_sns",function(h){h.signup()})});var d={isVisiable:function(j,h,i,k){k=k||160;return $(j).offset().top<h+i-k},animations:{band:function(h,i){return;var j=$("#band");if(d.isVisiable(j,h,i)){$("#js-band-bg").animate({opacity:1},500);$("#js-band-text").delay(500).animate({bottom:"9%",opacity:1},233);$("#js-header").delay(633).animate({top:0,opacity:1},267);delete d.animations.band}},character:function(h,i){var j=$("#characters");if(d.isVisiable(j,h,i)){j.find(".char-icon1").animate({top:50,opacity:1},333);j.find(".char-icon2").delay(200).animate({top:50,opacity:1},533);j.find(".char-icon3").delay(400).animate({top:50,opacity:1},733);delete d.animations.character}},intro1:function(h,i){var j=$("#intro1");if(d.isVisiable(j,h,i)){j.find(".intro1-video").animate({bottom:0,opacity:1},500);j.find(".intro1-text").delay(167).animate({opacity:1},500);j.find(".intro1-star").delay(333).animate({opacity:1},333);delete d.animations.intro1}},intro2:function(h,i){var j=$("#intro2");if(d.isVisiable(j,h,i)){j.find(".intro2-computer1").animate({top:-30,opacity:1},500);j.find(".intro2-computer2").delay(500).animate({opacity:1},167);j.find(".intro2-text").delay(167).animate({opacity:1},500);delete d.animations.intro2}},intro3:function(h,i){var j=$("#intro3");if(d.isVisiable(j,h,i)){j.find(".intro3-calendar").animate({top:-31,opacity:1},333);j.find(".intro3-rockets").delay(233).animate({top:-46,opacity:1},267);j.find(".intro3-smoke").delay(333).animate({top:-31,opacity:1},334);j.find(".intro3-text").delay(167).animate({opacity:1},500);delete d.animations.intro3}},intro4:function(h,i){var j=$("#intro4");if(d.isVisiable(j,h,i)){j.find(".intro4-hand").animate({top:-30,opacity:1},500);j.find(".intro4-icon").delay(333).animate({opacity:1},333);j.find(".intro4-text").delay(167).animate({opacity:1},500);delete d.animations.intro4}},startStudy:function(h,i){var j=$(".joinmooc");if(d.isVisiable(j,h,i)){j.addClass("joinmooc-active")}}}};$(window).on("scroll",function(){var k,i,h=$(window).height(),j=$(window).scrollTop();k=d.animations;for(i in k){k[i](h,j)}});if($(window).height()>500){$(window).trigger("scroll")}if($("#dynamic-wrap .dynamic-group").length>1){$("#dynamic-wrap").on({mouseenter:function(){$("#dynamic-left,#dynamic-right").show()},mouseleave:function(){$("#dynamic-left,#dynamic-right").hide()}})}!function(){var h=0,j,i;i=function(){var k=$("#dynamic-wrap .dynamic-group");clearInterval(j);k.eq(h).fadeOut();h=(h+1)%k.length;k.eq(h).fadeIn()};$("#dynamic-left").click(function(){var k=$("#dynamic-wrap .dynamic-group");clearInterval(j);k.eq(h).fadeOut();h=(h-1+k.length)%k.length;k.eq(h).fadeIn()});$("#dynamic-right").click(i);if($("#dynamic-wrap .dynamic-group").length>1){j=setInterval(i,3000)}}();var f;$("#js-family").on({mouseleave:function(){$("#js-family-mask").show().stop().animate({opacity:0.6},200);$("#js-family-text").show().stop().animate({opacity:1},200)},mouseenter:function(){$("#js-family-mask").stop().animate({opacity:0},200,function(){$("#js-family-mask").hide()});$("#js-family-text").stop().animate({opacity:0},200,function(){$("#js-family-text").hide()})}}).on("mouseenter",".js-family-item",function(){var h=this;clearTimeout(f);f=setTimeout(function(){g(h)},800)}).on("mouseleave",".js-family-item",function(){clearTimeout(f);$(this).find(".js-family-info").fadeOut("fast")});function g(h){$(h).find(".js-family-info").fadeIn("fast")}$("#js-mobile-trigger").on({mouseenter:function(){var h=$("#js-mobile-bg-wrap");h.stop().animate({bottom:0},300);h.find(".mobile-bg2").stop().animate({opacity:0},300);h.find(".mobile-bg3").stop().animate({opacity:1},300);$("#J-mk-mobile-bg").stop().animate({"margin-bottom":-30,opacity:0},200);$("#J-mk-down-qrcode").stop().animate({"margin-bottom":0,opacity:1},300)},mouseleave:function(){var h=$("#js-mobile-bg-wrap");h.stop().animate({bottom:-30},300);h.find(".mobile-bg3").stop().animate({opacity:0},300);h.find(".mobile-bg2").stop().animate({opacity:1},300);$("#J-mk-mobile-bg").stop().animate({"margin-bottom":0,opacity:1},300);$("#J-mk-down-qrcode").stop().animate({"margin-bottom":-30,opacity:0},200)}});(function(){var t=$(".g-banner"),h=t.find(".banner-slide"),o=t.find(".banner-dots"),m="",r,s=h.length,q=-1,l=500,j=5000,i=null;if(s==1){n();return}m="<span></span>";$.each(h,function(v,w){o.append(m)});r=o.find("span");function u(v){var w=h.filter(".slide-active");h.stop(true,true);w.removeClass("slide-active").fadeOut(600);h.eq(v).addClass("slide-active").fadeIn(800);r&&r.removeClass("active").eq(v).addClass("active")}function k(){q--;q=q<0?s-1:q;u(q)}function n(){q++;q=q>s-1?0:q;u(q)}function p(){if(i){clearInterval(i)}i=setInterval(function(){n()},j)}t.find(".banner-anchor").removeAttr("style");t.on("click",".prev",function(v){k()}).on("click",".next",function(v){n()}).on("click",".banner-dots span",function(w){if($(this).hasClass("active")){return}var v=$(this).index();q=v;u(v)});t.on("mouseenter",function(v){if(i){clearInterval(i)}}).on("mouseleave",function(v){p()});n();p()})();$(window).trigger("scroll")});